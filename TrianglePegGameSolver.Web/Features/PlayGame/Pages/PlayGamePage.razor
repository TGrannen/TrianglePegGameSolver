@inherits FluxorComponent
@page "/Play"
@using TrianglePegGameSolver.Web.Features.PegBoard.Components
@using TrianglePegGameSolver.Web.Features.PlayGame.Components
@using TrianglePegGameSolver.Application.Solver.Queries.SolvePegBoard
@using TrianglePegGameSolver.Domain
@using TrianglePegGameSolver.Web.Features.PlayGame.Store

@inject IDispatcher _dispatcher
@inject IState<PlayGameState> _state

<PageTitle Title="Triangle Peg Game - Play" />

<h1 class="text-3xl font-bold text-gray-900">
    Play
</h1>

@if (_state.Value.StartingHoleSelected)
{
    <Button OnClick="Restart" Text="Restart"></Button>
}

<div class="flex flex-col lg:flex-row">
    <div class="w-1/2 self-center lg:w-3/4">
        <PlayablePegBoard></PlayablePegBoard>
    </div>
</div>

@code
{
    private void Restart()
    {
        _dispatcher.Dispatch(new RestartAction());
    }
}