@using TrianglePegGameSolver.Web.Features.PegBoard.Components
@using TrianglePegGameSolver.Web.Features.PegBoard.Models
@using TrianglePegGameSolver.Domain

<svg xmlns="http://www.w3.org/2000/svg" viewBox="-5 -5 50 50">
    <polygon stroke="#8f8f8f" points="  1.5,32    17.97,0    35,32   " fill="#39bda7" id="svg_1" />
    <g>
        <Peg PegStyle="Holes[0].Style" X="120" Y="30" OnClick="x =>  PegClicked(Holes[0].Hole)"></Peg>
        <Peg PegStyle="Holes[1].Style" X="100" Y="69" OnClick="x =>  PegClicked(Holes[1].Hole)"></Peg>
        <Peg PegStyle="Holes[2].Style" X="140" Y="69" OnClick="x =>  PegClicked(Holes[2].Hole)"></Peg>
        <Peg PegStyle="Holes[3].Style" X="80" Y="109" OnClick="x =>  PegClicked(Holes[3].Hole)"></Peg>
        <Peg PegStyle="Holes[4].Style" X="120" Y="109" OnClick="x => PegClicked(Holes[4].Hole)"></Peg>
        <Peg PegStyle="Holes[5].Style" X="160" Y="109" OnClick="x => PegClicked(Holes[5].Hole)"></Peg>
        <Peg PegStyle="Holes[6].Style" X="60" Y="148" OnClick="x =>  PegClicked(Holes[6].Hole)"></Peg>
        <Peg PegStyle="Holes[7].Style" X="100" Y="148" OnClick="x => PegClicked(Holes[7].Hole)"></Peg>
        <Peg PegStyle="Holes[8].Style" X="140" Y="148" OnClick="x => PegClicked(Holes[8].Hole)"></Peg>
        <Peg PegStyle="Holes[9].Style" X="180" Y="148" OnClick="x => PegClicked(Holes[9].Hole)"></Peg>
        <Peg PegStyle="Holes[10].Style" X="40" Y="188" OnClick="x =>  PegClicked(Holes[10].Hole)"></Peg>
        <Peg PegStyle="Holes[11].Style" X="80" Y="188" OnClick="x =>  PegClicked(Holes[11].Hole)"></Peg>
        <Peg PegStyle="Holes[12].Style" X="120" Y="188" OnClick="x => PegClicked(Holes[12].Hole)"></Peg>
        <Peg PegStyle="Holes[13].Style" X="160" Y="188" OnClick="x => PegClicked(Holes[13].Hole)"></Peg>
        <Peg PegStyle="Holes[14].Style" X="200" Y="188" OnClick="x => PegClicked(Holes[14].Hole)"></Peg>

        <text transform="scale(0.10)" y="70" x="175">1</text>
        <text transform="scale(0.10)" y="129" x="146">2</text>
        <text transform="scale(0.10)" y="129" x="206">3</text>
        <text transform="scale(0.10)" y="190" x="115">4</text>
        <text transform="scale(0.10)" y="190" x="175">5</text>
        <text transform="scale(0.10)" y="190" x="237">6</text>
        <text transform="scale(0.10)" y="250" x="84">7</text>
        <text transform="scale(0.10)" y="250" x="146">8</text>
        <text transform="scale(0.10)" y="250" x="206">9</text>
        <text transform="scale(0.10)" y="250" x="261">10</text>
        <text transform="scale(0.10)" y="309" x="51">11</text>
        <text transform="scale(0.10)" y="309" x="112">12</text>
        <text transform="scale(0.10)" y="309" x="170">13</text>
        <text transform="scale(0.10)" y="309" x="231">14</text>
        <text transform="scale(0.10)" y="309" x="292">15</text>
    </g>
</svg>

@code{
    [Parameter]
    public List<PegHoleDetail> Holes { get; set; }

    [Parameter]
    public EventCallback<PegHole> OnClick { get; set; }

    private async Task PegClicked(PegHole hole)
    {
        await OnClick.InvokeAsync(hole);
    }

}